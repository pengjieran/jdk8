<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta content="text/html; charset=us-ascii" http-equiv="Content-Type"/>
<meta content="text/css" http-equiv="Content-Style-Type"/>
<meta content="text/javascript" http-equiv="Content-Script-Type"/>
<title>Applets and Java Web Start Applications</title>
<meta content="Oracle DARB XHTML Converter (Mode = document) - Version 1.0.23 Build 1" name="generator"/>
<meta content="2014-02-20T13:53:12Z" name="date"/>
<meta content="This chapter describes some problems and solutions related to deploying Java applications." name="description"/>
<meta content="noarchive" name="robots"/>
<meta content="Applets and Java Web Start Applications" name="doctitle"/>
<meta content="Release 8" name="relnum"/>
<meta content="E38386-01" name="partnum"/>




<link rel="stylesheet" type="text/css" href="../../../technotes/css/guide.css" />
</head>
<body>
<!-- STATIC HEADER -->

<!-- header start -->
<div id="javaseheader">
<div id="javaseheaderlogo">
<img src="../../../images/javalogo.gif"
alt="Java logo" />
</div>
<div id="javaseheaderindex">

<a href=
"../../../index.html">Documentation Contents</a>
</div>
<div class="clear"></div>
</div>

<!-- header end -->


<b>Java Platform, Standard Edition Desktop Technologies Troubleshooting Guide</b><br/>

<a href="toc.html">
                Contents</a>&nbsp;&nbsp;&nbsp;<a href="time-zone.html">
                Previous</a>&nbsp;&nbsp;&nbsp;<a href="bugreports.html">
                Next</a><hr/><a id="sthref100" name="sthref100"/>
<h1><span>8</span> Applets and Java Web Start Applications</h1>
<p>This chapter describes some problems and solutions related to deploying Java applications.</p>
<p>This chapter contains the following sections:</p>
<ul>
<li>
<p><a href="#A999225">"Configuration Problems"</a></p>
</li>
<li>
<p><a href="#A999976">"Applet Troubleshooting"</a></p>
</li>
<li>
<p><a href="#A1000510">"Avoiding Security Dialogs"</a></p>
</li>
<li>
<p><a href="#A1000756">"Development Tips"</a></p>
</li>
</ul>
<a id="A999225" name="A999225"/>
<div>
<h2>Configuration Problems</h2>
<p>This section describes a number of problems concerning various configuration parameters and settings.</p>
<a id="BHBBDDGC" name="BHBBDDGC"/>
<div>
<h3>Validation</h3>
<p>If your application will not run, perform the following checks:</p>
<dl>
<dd><a id="sthref101" name="sthref101"/></dd>
<dt>Task 1Verify that the Java Plugin is working.</dt>
<dd>
<ol>
<li>
<p>Go to <code><a href="http://java.com/en/download/installed.jsp">http://java.com/en/download/installed.jsp</a></code>.</p>
</li>
<li>
<p>Click <b>Verify Java version</b>.</p>
</li>
<li>
<p>If you see that the expected Java technology version is reported, then the plugin is enabled and found.</p>
</li>
</ol>
</dd>
<dd><a id="sthref102" name="sthref102"/></dd>
<dt>Task 2Check that your browser knows about the Java plugin.</dt>
<dd>
<ul>
<li>
<p><b>Chrome</b>: Type <code>about: plugins</code> in the address bar.</p>
</li>
<li>
<p><b>Firefox</b>: On the <b>Tools</b> menu, select <b>Addons</b> and click <b>Plugins</b>.</p>
</li>
<li>
<p><b>Internet Explorer</b>: On the <b>Tools</b> menu, select <b>Manage Addons</b>.</p>
</li>
</ul>
</dd>
<dd><a id="sthref103" name="sthref103"/></dd>
<dt>Task 3Make sure the Java Runtime Environment is installed.</dt>
<dd>
<ul>
<li>
<p>On Windows, check the list of installed programs in the Control Panel.</p>
</li>
</ul>
</dd>
</dl>
</div>

<a id="BHBEBAED" name="BHBEBAED"/>
<div>
<h3>Common Configuration Problems</h3>
<dl>
<dd><a id="sthref104" name="sthref104"/></dd>
<dt>Issue 1There is no Java Runtime installed.</dt>
<dd>
<p>It is not sufficient to install the Java Developer Kit. A JRE is required to be able to run an applet or webstart. Note that if you use a 64-bit browser, then the 64-bit version of the JRE is required. Likewise, the 32-bit JRE is necessary for 32-bit browsers.</p>
</dd>
<dd><a id="sthref105" name="sthref105"/></dd>
<dt>Issue 2Latest matching plugin/webstart is always used.</dt>
<dd>
<p>There could be just one plugin registered in the browser and the JRE will always register plugin from latest JRE on the system as active. The only way to ensure use of an older plugin is to uninstall newer JREs.</p>
</dd>
<dd><a id="sthref106" name="sthref106"/></dd>
<dt>Issue 3Any change in the Java Runtime configuration requires the browser to be restarted.</dt>
<dd>
<p>Java is not enabled.</p>
<p>There are multiple places where Java could be disabled. Check the Java Control Panel and your browser plugins/addons list.</p>
</dd>
<dd><a id="sthref107" name="sthref107"/></dd>
<dt>Issue 4Make sure new generation plugin is enabled.</dt>
<dd>
<p>Unless you need to run in the legacy mode, make sure <b>New generation plugin</b> is enabled in the Java Control Panel.</p>
</dd>
<dd><a id="sthref108" name="sthref108"/></dd>
<dt>Issue 5Java Control Panel fails to make changes in the Java config.</dt>
<dd>
<p>On Windows 7 or Windows Vista systems with UAC on, the Java Control Panel may fail to update global registry settings. To work around this, make sure you launch Java Control Panel as Administrator if you need to alter these settings.</p>
</dd>
<dd><a id="sthref109" name="sthref109"/></dd>
<dt>Issue 6JavaScript needs to be enabled.</dt>
<dd>
<p>If JavaScript is disabled, then an attempt to launch a Java applet may fail at very early stage.</p>
</dd>
</dl>
</div>

<div><a id="sthref110" name="sthref110"/>
<h3>Managing Java Runtimes</h3>
<p>You can use the Java Control Panel tool to manage the list of installed Java Runtime Environments and their behavior. The Java Control Panel can be launched from the bin directory of the JRE installation folder. On Windows operating systems, you can also access it from Control Panel &gt; Java.</p>
<p>Use Java Control Panel if you need to:</p>
<ul>
<li>
<p>see what versions of JRE are installed and active</p>
</li>
<li>
<p>temporarily enable/disable use of particular version of JRE</p>
</li>
<li>
<p>set "global" parameters to be passed to JVM when applet or webstart application is launched</p>
</li>
<li>
<p>enable/disable use of Java Plugin in the particular browser</p>
</li>
<li>
<p>tune behavior of the plugin/webstart by specifying configuration parameters such as location of cache of temporary files or enable tracing</p>
</li>
</ul>
<div><a id="sthref111" name="sthref111"/>
<p><b><i>Figure 8-1 The Java Runtime Environment Settings Window</i></b></p>
<img alt="Description of Figure 8-1 follows" longdesc="img_text/jres.htm" src="img/jres.png" title="Description of Figure 8-1 follows"/><br/>
<a href="img_text/jres.html" id="sthref112" name="sthref112">Description of "Figure 8-1 The Java Runtime Environment Settings Window"</a><br/>
<br/></div>
</div>

<a id="BHBBGGIJ" name="BHBBGGIJ"/>
<div>
<h3>Passing parameters to the JRE</h3>
<p>Troubleshooting, debugging, profiling and other development activities may require launching JVM with a special set of parameters. One way to accomplish this is to use the Java Control Panel.</p>
<p>Open the Java Control Panel and click <b>View</b> on the <b>Java</b> tab. Select the <b>Runtime Parameters</b> cell for the JRE you wish to change and enter parameters into this cell.</p>
<div align="center">
<div><br/>
<table border="1" cellpadding="3" cellspacing="0" frame="hsides" rules="groups" summary="" width="80%">
<tbody>
<tr>
<td align="left">
<p><b>Note:</b></p>
<p>These changes are "global", meaning that any Java Web Start application or applet that will be run using this version of JRE will have these parameters set (in addition to what the applet tag or JNLP file may specify).</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
</div>
<p>To pass parameters to a specific JVM used with Java Web Start or an applet, use one of the following techniques:</p>
<ul>
<li>
<p>Set environment variable before launching <code>javaws</code> or the browser process.</p>
<ul>
<li>
<p><code>JAVAWS_VM_ARGS</code> for Java Web Start apps. For example:</p>
<pre xml:space="preserve">
JAVAWS_VM_ARGS = -Dsome.property=true
</pre></li>
<li>
<p><code>_JPI_VM_OPTIONS</code> for applets. For example:</p>
<pre xml:space="preserve">
_JPI_VM_OPTIONS = -Dsome.property=true
</pre>
<div align="center">
<div><br/>
<table border="1" cellpadding="3" cellspacing="0" frame="hsides" rules="groups" summary="" width="80%">
<tbody>
<tr>
<td align="left">
<p><b>Note:</b></p>
<p>You need to restart your browser after you set the environment variable. If you are setting this environment variable in the command shell, then you must use the same command shell to launch the browser so that the browser inherits the value of the environment variable.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
</div>
</li>
</ul>
</li>
<li>
<p>Use the <code>-J</code> option for the <code>javaws</code> command. For example:</p>
<pre xml:space="preserve">
javaws -J-Dsome.property=true http://example.com/my.jnlp
</pre></li>
</ul>
</div>

<a id="BHBEHIBI" name="BHBEHIBI"/>
<div>
<h3>Java Deployment Home</h3>
<p>This is the place where main configuration files are kept. The location is specific to your operating system:</p>
<ul>
<li>
<p><b>Windows XP</b>: <span>%HOME%</span>\Application Data\Sun\Java\Deployment</p>
</li>
<li>
<p><b>Windows 7/Vista</b>: <span>%APPDATA%</span>\..\LocalLow\Sun\Java\Deployment</p>
</li>
<li>
<p><b>Linux/Solaris</b>: <span>%HOME%</span>/.java/deployment</p>
</li>
</ul>
</div>

<div><a id="sthref113" name="sthref113"/>
<h3>Deployment Tracing Information</h3>
<p>Both Java Plug-in and Java Web Start can print trace information into trace files. This includes log information from the JRE itself as well as everything your application may be printing to <code>System.out</code> or <code>System.err</code>.</p>
<p>To get access to trace information, follow these steps:</p>
<ol>
<li>
<p>Open the Java Control Panel (<i>jre_home_dir</i>/bin/ControlPanel).</p>
</li>
<li>
<p>Select the <b>Advanced</b> tab.</p>
</li>
<li>
<p>In the <b>Debugging</b> category, select the <b>Enable tracing</b> check box.</p>
</li>
<li>
<p>Optionally, in the <b>Java console</b> category, select the <b>Show console</b> option to see trace information in the console window. The full trace still will be saved to a file.</p>
</li>
</ol>
<p>The trace file is saved into the <code>log</code> directory in the Java deployment home folder (see <a href="#BHBEHIBI">Java Deployment Home</a>). The file name has the prefix <code>javaws</code> or <code>plugin</code>, depending on what you are running. One trace file is produced per process, but one application can be launched using several processes.</p>
<p>To get the maximum level of detail in the trace file, edit the deployment.properties file (which is located in the Java deployment home directory) and add the following line:</p>
<pre xml:space="preserve">
deployment.trace.level=all
</pre>
<p>By default, a maximum of five trace files are created. The oldest trace files are automatically deleted. To change this limit of maximum number of trace files, add the following line to the deployment.properties file:</p>
<pre xml:space="preserve">
deployment.max.output.files=<i>max_number_of_trace_files</i>
</pre>
<p>You can use the Java console to view the trace log at runtime. By default, the Java console is hidden. Enable it in the Java Control Panel.</p>
</div>

<div><a id="sthref114" name="sthref114"/>
<h3>Deployment Cache</h3>
<p>Application jars and resources are cached on the disk to avoid loading them the next time they are needed.</p>
<p>The default location of the cache depends on the operating system and can be overridden in the Java Control Panel.</p>
<p>Settings and controls for the cache are available in the <b>General</b> tab of the Java Control Panel, in the <b>Temporary Internet Files</b> section. Click <b>Settings</b> to change the location and size of the cache. Click <b>View</b> to see what files are in the cache.</p>
<p>You can clean the cache by running <code>javaws -uninstall</code>, or open the Java Control Panel's <b>General</b> tab, click <b>View</b>, and delete files manually. You can also use the Java Control Panel to uninstall individual applications and extensions.</p>
</div>

<div><a id="sthref115" name="sthref115"/>
<h3>Network Configuration</h3>
<p>In general, Java Web Start applications use the system network configuration by default, and applets use the browser network settings. You can set network proxies explicitly using Java Control Panel.</p>
<p>In particular, the Java technology networking layer automatically detects what networking stack to use. However, sometimes autodetection does not work and you may observe <code>Permission Denied</code> exceptions trying to open a socket to download your application or applet, even while the same URL is accessible using the same proxy settings with other tools. This problem was observed on some Windows 7 systems when VPN software is used. This can be resolved by explicitly passing a parameter to the JVM:</p>
<pre xml:space="preserve">
-Djava.net.preferIPv4Stack=true
</pre>
<p>For details, see <a href="#BHBBGGIJ">Passing parameters to the JRE</a>.</p>
</div>
</div>

<a id="A999976" name="A999976"/>
<div>
<h2>Applet Troubleshooting</h2>
<p>For modern browsers which support tabs, each tab might be a separate browser process. If a Java applet is embedded in a browser page and the next generation plugin is being used, usually the process associated with the browser tab creates a JVM within the process (browser VM). The browser VM will create another JVM process (client VM) which will run the applet and manage the applet's life cycle. The client VM is a Java process (<code>java.exe</code> on Windows and <code>java</code> on Linux/Solaris platforms).</p>
<div><a id="sthref116" name="sthref116"/>
<h3>Applet Does Not Start - Plugin Cheat Sheet</h3>
<p>If your applet does not start, make sure to enable tracing and the Java console as explained previously. Then use hits below to find reason why applet does not work:</p>
<ul>
<li>
<p>Do you get a trace file generated or see the Java console?</p>
<ul>
<li>
<p><b>No</b></p>
<p>Check if Java technology is detected at <code><a href="java.com">java.com</a></code> (see <a href="#BHBBDDGC">Validation</a>). Is Java technology detected?</p>
<ul>
<li>
<p><b>Yes</b></p>
<p>Proceed to <a href="#BHBJGDAH">"Browser JVM Troubleshooting"</a>.</p>
</li>
<li>
<p><b>No</b></p>
<p>It is likely to be a configuration issue. See <a href="#BHBEBAED">Common Configuration Problems</a> for common configuration problems and if it does not help, proceed to <a href="#BHBJGDAH">"Browser JVM Troubleshooting"</a>.</p>
</li>
</ul>
</li>
<li>
<p><b>Yes, I have a trace file</b></p>
<p>It is unlikely to be a configuration issue (unless you have the new generation plugin disabled). The problem is likely to be specific to this applet. Try to launch some other applets to confirm. Proceed to <a href="#BHBGJJEJ">"Client JVM Troubleshooting"</a>.</p>
</li>
</ul>
</li>
</ul>
<p>Consult the sections below for further advice.</p>
<a id="sthref117" name="sthref117"/>
<p><b>Browser or Java Process Crash</b></p>
<p>A crash could be caused by a platform or application issue.</p>
<p>Typically, if a crash happens in the JVM then there should be hs_err_*log file created in the current working directory (on Windows it is often placed on the desktop). It is the same crash report file as for standalone applications. For details about the report file, see <a href="felog.html#fatal_error_log_vm">"Fatal Error Log"</a>.</p>
<p>If you can spot native libraries loaded from the deployment cache directory, especially if you see code from these libraries in the crash stack, it is very likely to be a bug in the application.</p>
<p>Otherwise it is a JRE bug and needs to be reported to <a href="http://bugs.sun.com/"><code>bugs.sun.com</code></a>.</p>
<a id="BHBJGDAH" name="BHBJGDAH"/>
<p><b>Browser JVM Troubleshooting</b></p>
<p>To get more details about a JVM running in the browser process, set the following two environment variables before starting the browser:</p>
<pre xml:space="preserve">
JPI_PLUGIN2_DEBUG=1
JPI_PLUGIN2_VERBOSE=1
</pre>
<p>On Windows, there should be a command window associated with the browser process. All browser VM debug output goes into the command window. Check to see if any exceptions are visible there. A Java thread dump can be obtained by using the Control+Break key sequence on the command window.</p>
<p>On Linux and Solaris platforms, after setting the above variables, start the browser from the same session. All browser VM debug output goes into the terminal window. To get a Java thread dump, on a separate terminal, use <code>kill -3</code> <span>pid</span> or <code>kill -SIGQUIT</code> <span>pid</span>, where <span>pid</span> is the process id of the browser process.</p>
<p>There are "heartbeat" messages sent between the client VM and browser VM. The "heartbeat" messages can be turned off by setting the <code>JPI_PLUGIN2_NO_HEARTBEAT</code> environment variable to <code>1</code>. This will help isolate whether the problem is related to the "heartbeat".</p>
<p>If the log is not opening and environment variables are set in the browser process, then it is likely that the JRE is not installed correctly or Java is disabled. Check for configuration errors and try to reinstall the JRE if nothing else helps.</p>
<a id="BHBGJJEJ" name="BHBGJJEJ"/>
<p><b>Client JVM Troubleshooting</b></p>
<p>Check the latest trace file for ideas.</p>
<p>Note that the same client JVM may be shared between multiple applets. Sometimes intermittent failures happen because the shared JVM does not have enough resources available (for example, heap size). In that case, a page reload often helps to resolve the problem.</p>
<p>If application fails with an <code>Out of memory</code> error, the heap size needs to be increased. This can be done in the application deployment descriptor (JNLP file) or in the Java Control Panel using Runtime Parameters for JRE in use.</p>
<p>If an application is signed and the user declined a security dialog, this may cause application failure. The decision made by the user is remembered until the JVM is restarted. To see the security dialog again, the user may need to restart the browser.</p>
<p>Note that an applet can be deployed to reduce the risk of being affected by other applets and tailor execution environment for the applet's needs. See <a href="http://download.oracle.com/javase/7/docs/technotes/guides/jweb/applet/applet_deployment.html">Applet Deployment</a> in the JDK documentation. In particular, consider using the <code>separate_jvm parameter</code> argument.</p>
</div>

<div><a id="sthref118" name="sthref118"/>
<h3>Unresponsive Web Page</h3>
<p>If a page appears to be frozen while an applet starts, or in the runtime, the cause could be Liveconnect calls.</p>
<p>On startup, an attempt to access the Java applet from JavaScript may block the JavaScript engine until the applet initialization is complete. It is recommended to postpone JavaScript access until the applet is ready and use the <code>enableStatusEvents</code> parameter to unlock non-blocking access to applet status checks. See <a href="http://download.oracle.com/javase/7/docs/technotes/guides/jweb/applet/appletStatus.html">Applet Status And Event Handlers</a> for details and examples.</p>
<p>To use Liveconnect in runtime, it is recommended to make JavaScript calls return quickly to avoid blocking the single-threaded JavaScript engine.</p>
<a id="sthref119" name="sthref119"/>
<p><b>Applet or browser hangs</b></p>
<p>The best source of information in this case is the stack state for both client and browser JVMs.</p>
<p>Use the <a href="http://download.oracle.com/javase/7/docs/technotes/tools/share/jstack.html"><code>jstack</code></a> utility to collect the JVM stack status for the browser JVM (by running <code>jstack browser-pid</code>) and client JVM. Note that <code>jstack</code> may highlight a deadlock if it happens in context of one of these VMs, but it cannot do this if the deadlock involves both processes. In this case, the thread stacks need to be examined manually.</p>
<p>For other approaches, read <a href="../../TSG-VM/html/hangloop.html">Troubleshooting Hanging or Looping Processes</a> in the <i>Troubleshooting Guide for Java SE 7 with HotSpot VM</i>.</p>
</div>
</div>

<a id="A1000510" name="A1000510"/>
<div>
<h2>Avoiding Security Dialogs</h2>
<p>The Java Runtime will automatically warn the user about possible security sensitive issues. If you are confident that applications you use are safe, then it is possible to bypass security dialogs to simplify user experience.</p>
<div><a id="sthref120" name="sthref120"/>
<h3>Signed Applications</h3>
<p>If a Java applet/webstart application is signed, a certificate security warning dialog box will pop up and the user must click <b>Run</b> to give all permissions to the code of the application.</p>
<p>To avoid seeing this dialog, you can do one of the following:</p>
<ul>
<li>
<p>User accepts the certificate used to sign the application and selects the <b>Always trust content from this publisher</b> check box. Then, next time permissions will be granted to this application automatically (until the certificate expires or is removed from the trusted key store).</p>
</li>
<li>
<p>The certificate can be manually imported into the JRE trusted certificate store. To import the certificate using the Java Control Panel, on the <b>Security</b> tab, click <b>Certificates</b> and then <b>Trusted Certificates</b>. To import a certificate into the certificate store from the command line, use the <a href="http://download.oracle.com/javase/7/docs/technotes/tools/solaris/keytool.html"><code>keytool</code></a> utility (in the JRE's bin folder).</p>
</li>
<li>
<p>Grant <code>AllPermissions</code> in the Java policy file located at <span>${user.home}</span>/.java.policy, or point to any Java policy file which has <code>AllPermissions</code> in the <span>$(JRE_HOME)</span>/lib/security/java.security file. Permissions can be granted to all applications or restricted to a particular URL. See <a href="http://download.oracle.com/javase/7/docs/technotes/guides/security/PolicyFiles.html">Default Policy Implementation and Policy File Syntax</a> for more details on <code>.java.policy</code>.</p>
</li>
</ul>
<div align="center">
<div><br/>
<table border="1" cellpadding="3" cellspacing="0" frame="hsides" rules="groups" summary="" width="80%">
<tbody>
<tr>
<td align="left">
<p><b>Note:</b></p>
<p>If automatic granting of permissions is not desired, then use the Java Control Panel to remove certificates from trusted certificate keystore. This will result in security dialog box popup again in the future.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
</div>
</div>

<div><a id="sthref121" name="sthref121"/>
<h3>Mixed Code Issues</h3>
<p>Signed Java Web Start applications and applets that contain signed and unsigned components could potentially be unsafe unless the mixed code was intended by the application vendor. The latest versions of the Java runtime raise a mixed code warning dialog when a program contains both signed and unsigned components and suspicious use is detected.</p>
<p>Bypassing this dialog generally requires making changes to application implementation or repackaging the application. It is also possible to completely disable the software from checking for mixing trusted and untrusted code, but it is not recommended as this allows the user to run potentially unsafe code with no warning and without additional protections. For details on mixed code and ways to bypass this security warning dialog box, please refer to <a href="http://download.oracle.com/javase/6/docs/technotes/guides/jweb/mixed_code.html">Mixing Signed and Unsigned Code - Ensuring Application and Applet Security</a>.</p>
</div>
</div>

<a id="A1000756" name="A1000756"/>
<div>
<h2>Development Tips</h2>
<p>For Java Web Start applications and applets, you can use most of techniques available to debug and profile standalone applications, except you will need to use the "attach" mechanism instead of direct launch.</p>
<p>Note that both plugin and Java Web Start will spawn additional <code>java</code> or <code>javaw</code> processes that will actually run the JVM executing the application or applet. You need to attach to those processes to be able to collect information about your app. For example, if you want to get a memory dump of your applet, then first you need to figure out the process id for the <code>java</code> process executing the <code>PluginMain</code> class. For example, use the <a href="http://download.oracle.com/javase/7/docs/technotes/tools/share/jps.html"><code>jps</code></a> utility from the JDK and then use <a href="http://download.oracle.com/javase/7/docs/technotes/tools/share/jmap.html"><code>jmap</code></a> to get a memory dump.</p>
<div><a id="sthref122" name="sthref122"/>
<h3>Debugging Applets and Web Start Applications</h3>
<p>Just as with standalone Java applications, any <a href="http://download.oracle.com/javase/7/docs/technotes/guides/jpda/conninv.html">JPDA-based debugger</a> can be used to debug your applet or Web Start application, for example <a href="http://download.oracle.com/javase/7/docs/technotes/tools/solaris/jdb.html"><code>jdb</code></a> or the NetBeans debugger.</p>
<p>You will need to enable the JDWP agent for the JVM running your application and specify the port number. Once the JVM is started, you can use your favorite IDE or tools to attach to it.</p>
<p>For details on how to pass arguments to the JVM running applet or Java Web Start application, see <a href="#BHBBGGIJ">Passing parameters to the JRE</a>. For example, here is how you can pass details to the Java Web Start application from the command line:</p>
<pre xml:space="preserve">
bash$ javaws -J-agentlib:jdwp=transport=dt_socket,address=4000,server=y,suspend=y http://acme.com/my/webstart.jnlp
</pre>
<p>This instructs the agent to suspend after the JVM is initialized and wait for a debugger to connect on port 4000. Please consult <a href="http://download.oracle.com/javase/6/docs/technotes/guides/jpda/conninv.html">this guide for a full description of invocation options</a>.</p>
</div>

<div><a id="sthref123" name="sthref123"/>
<h3>Profiling Applets and Java Web Start Applications</h3>
<p>When you profile a standalone Java application, your favorite IDE is likely to be using the JVMTI agent to collect details on program execution. You can do the same for applets and Java Web Start applications but you may need to configure the JVMTI agent explicitly by passing the <code>-agentpath</code> option to the JVM. For details on how to pass options to the JVM, see <a href="#BHBBGGIJ">Passing parameters to the JRE</a>.</p>
<p>For example:</p>
<pre xml:space="preserve">
set _JPI_VM_OPTIONS="-agentpath:C:\Tools\NetBeans\profiler\lib\deployed\jdk16\windows\profilerinterface.dll=C:\Tools\NetBeans\profiler\lib,5140"
</pre>
<p>Now launch your browser. The NetBeans profile agent is enabled for any applet you will be running in this browser session. You can use NetBeans IDE to attach to the <code>java</code> process. Please consult your profiler documentation for exact details on what agent to use and how to configure it.</p>
</div>

<div><a id="sthref124" name="sthref124"/>
<h3>Debugging Memory Leaks</h3>
<p>Use <a href="../../TSG-VM/html/memleaks.html">any techniques available</a> for standalone applications on the process running your applet or application. For example, use <code>jmap</code> to obtain a heap dump, VisualVM or <code>jconsole</code> to observe threads, or pass <code>-XX:+HeapDumpOnOutOfMemoryError</code> to the JVM (see <a href="#BHBBGGIJ">Passing parameters to the JRE</a>) to get a memory dump on error. Use the <code>jps</code> utility to find the process id for the process running your application.</p>
</div>
</div>
<a href="toc.html">
                Contents</a>&nbsp;&nbsp;&nbsp;<a href="time-zone.html">
                Previous</a>&nbsp;&nbsp;&nbsp;<a href="bugreports.html">
                Next</a><hr/>





<!--  footer start -->
<div id="javasefooter">
<div class="hr">
<hr /></div>
<div id="javasecopyright">
<img id="oraclelogofooter" src=
"../../../images/oraclelogo.gif" alt="Oracle and/or its affiliates"
border="0" width="100" height="29" name=
"oraclelogofooter" />

<a href="../../../legal/cpyr.html">Copyright
&#169;</a> 1993, 2014, Oracle and/or its affiliates. All rights
reserved.</div>
<div id="javasecontactus">
<a href=
"http://docs.oracle.com/javase/feedback.html">Contact
Us</a>
</div>
</div>
<!-- footer end -->

<!-- STATIC FOOTER -->

</body>
</html>
